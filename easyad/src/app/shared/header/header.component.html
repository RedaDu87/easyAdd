<!-- Navbar-->
<header class="navbar navbar-expand-lg navbar-dark fixed-top" data-scroll-header (window:scroll)="windowScroll()">
  <div class="container"><a class="navbar-brand me-3 me-xl-4" routerLink="" style="color: #2F9C5C">EasyAd</a>
    <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleMobileMenu()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="btn btn-link btn-primary btn-sm d-none d-lg-block order-lg-3" href="javascript:void(0);" (click)="toggleModal(toggleFirstModal)" data-bs-toggle="modal">
      <i class="fi-user me-2"></i>Sign in
    </a>
    <a class="btn btn-primary btn-sm ms-2 order-lg-3" routerLink="/vendor/sell-car">
      <i class="fi-plus me-2"></i>Sell car
    </a>
    <select (change)="changeLanguage($event)" class="form-select w-auto">
      <option value="en">English</option>
      <option value="fr">Fran√ßais</option>
    </select>
    <div class="collapse navbar-collapse order-lg-2" id="navbarNav">
      <ul class="navbar-nav navbar-nav-scroll" style="max-height: 35rem;">
        <!-- Menu items-->
        @for(item of menuItems;track $index){
        <ng-container>
          <li class="nav-item dropdown">
            @if(item.subItems){
              <a class="nav-link dropdown-toggle"
              (click)="onMenuClick($event)" id="topnav-components"
              role="button">
              {{item.label }}
            </a>

            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="topnav-dashboard">
                @for(subitem of item.subItems;track $index){
                  @if(hasItems(subitem)){
                    <div class="dropdown">
                        <a class="dropdown-item dropdown-toggle" href="javascript:void(0);"
                            (click)="onMenuClick($event)">{{ subitem.label }}
                            <div class="arrow-down"></div>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            @for(subSubitem of subitem.subItems;track $index){
                              @if(!hasItems(subSubitem)){
                                <a class="dropdown-item"
                                   routerLink="{{subSubitem.link}}"
                                    routerLinkActive="active">{{ subSubitem.label }}</a>
                              }
                            }
                          </ul>
                    </div>
                  }
                  @if(!hasItems(subitem)){
                    <a class="col dropdown-item side-nav-link-ref" routerLink="{{subitem.link}}"
                        routerLinkActive="active">{{ subitem.label }}</a>
                  }
                }
              </ul>
              } @else {
                <a class="nav-link" (click)="onMenuClick($event)" id="topnav-components"
                    routerLink="{{item.link}}" role="button">
                    {{ item.label }}
                </a>
              }
          </li>
        </ng-container>
        }
      </ul>
    </div>
  </div>
</header>

  <!-- Toggle Modal  -->
   <!-- Sign In Modal-->
  <ng-template #toggleFirstModal let-modal>
    <div class="bg-dark border-primary">
      <div class="modal-body px-0 py-2 py-sm-0">
        <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-3 me-3" type="button" data-bs-dismiss="modal" (click)="modal.dismiss('Cross click')"></button>
        <div class="row mx-0 align-items-center">
          <div class="col-md-6 border-end-md border-primary p-4 p-sm-5">
            <h2 class="h3 text-primary mb-4 mb-sm-5">Hey there!<br>Welcome back.</h2><img class="d-block mx-auto" src="assets/img/signin-modal/signin-dark.svg" width="344" alt="Illustartion">
            <div class="text-primary mt-4 mt-sm-5"><span class="opacity-60">Don't have an account? </span><a class="text-primary" href="javascript:void(0);" data-bs-toggle="modal" data-bs-dismiss="modal" (click)="secondModal(toggleSecondModal)"
              (click)="modal.close('Close click')">Sign up here</a></div>
          </div>
          <div class="col-md-6 px-4 pt-2 pb-4 px-sm-5 pb-sm-5 pt-md-5"><a class="btn btn-outline-info w-100 mb-3" href="javascript:void(0);"><i class="fi-google fs-lg me-1"></i>Sign in with Google</a><a class="btn btn-outline-info w-100 mb-3" href="#"><i class="fi-facebook fs-lg me-1"></i>Sign in with Facebook</a>
            <div class="d-flex align-items-center py-3 mb-3">
              <hr class="hr-primary w-100">
              <div class="text-primary opacity-70 px-3">Or</div>
              <hr class="hr-primary w-100">
            </div>
            <form class="needs-validation" novalidate (ngSubmit)="validSubmit()" [formGroup]="validationform">
              <div class="mb-4">
                <label class="form-label text-primary mb-2" for="signin-email">Email address</label>
                <input class="form-control form-control-primary" type="email" id="signin-email" placeholder="Enter your email" required [ngClass]="{'is-invalid': submit && form['email'].errors}">
              </div>
              <div class="mb-4">
                <div class="d-flex align-items-center justify-content-between mb-2">
                  <label class="form-label text-primary mb-0" for="signin-password">Password</label><a class="fs-sm text-primary" href="javascript:void(0);">Forgot password?</a>
                </div>
                <div class="password-toggle">
                  <input class="form-control form-control-primary" [type]="loginPassfield ? 'text' : 'password'" id="signin-password" placeholder="Enter password" required [ngClass]="{'is-invalid': submit && form['password'].errors}">
                  <label class="password-toggle-btn" aria-label="Show/hide password">
                    <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator" [ngClass]="{'mdi-eye-off-outline': !loginPassfield, 'mdi-eye-outline': loginPassfield
                  }" (click)="toggleLoginPassField()"></span>
                  </label>
                </div>
              </div>

              <button class="btn btn-primary btn-lg w-100" type="submit">Sign in</button>
            </form>
          </div>

        </div>
      </div>
    </div>
  </ng-template>

   <!-- Sign Up Modal-->
   <ng-template #toggleSecondModal let-modal>
    <div class="bg-dark border-primary">
      <div class="modal-body px-0 py-2 py-sm-0">
        <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-3 me-3" type="button" data-bs-dismiss="modal" (click)="modal.dismiss('Cross click')"></button>
        <div class="row mx-0 align-items-center">
          <div class="col-md-6 border-end-md border-primary p-4 p-sm-5">
            <h2 class="h3 text-primary mb-4 mb-sm-5">Join EasyAd<br>Get premium benefits:</h2>
            <ul class="list-unstyled mb-4 mb-sm-5">
              <li class="d-flex mb-2"><i class="fi-check-circle text-primary mt-1 me-2"></i><span class="text-primary">Add and promote your listings</span></li>
              <li class="d-flex mb-2"><i class="fi-check-circle text-primary mt-1 me-2"></i><span class="text-primary">Easily manage your wishlist</span></li>
              <li class="d-flex mb-0"><i class="fi-check-circle text-primary mt-1 me-2"></i><span class="text-primary">Leave reviews</span></li>
            </ul><img class="d-block mx-auto" src="assets/img/signin-modal/signup-dark.svg" width="344" alt="Illustartion">
            <div class="text-primary mt-sm-4 pt-md-3"><span class="opacity-60">Already have an account? </span><a class="text-primary" href="javascript:void(0);" (click)="toggleModal(toggleFirstModal)" (click)="modal.close('Close click')" data-bs-toggle="modal" data-bs-dismiss="modal">Sign in</a></div>
          </div>
          <div class="col-md-6 px-4 pt-2 pb-4 px-sm-5 pb-sm-5 pt-md-5"><a class="btn btn-outline-info w-100 mb-3" href="javascript:void(0);"><i class="fi-google fs-lg me-1"></i>Sign in with Google</a><a class="btn btn-outline-info w-100 mb-3" href="#"><i class="fi-facebook fs-lg me-1"></i>Sign in with Facebook</a>
            <div class="d-flex align-items-center py-3 mb-3">
              <hr class="hr-primary w-100">
              <div class="text-primary opacity-70 px-3">Or</div>
              <hr class="hr-primary w-100">
            </div>
            <form class="needs-validation" novalidate (ngSubmit)="formSubmit()" [formGroup]="signUpform">
              <div class="mb-4">
                <label class="form-label text-primary" for="signup-name">Full name</label>
                <input class="form-control form-control-primary" type="text" id="signup-name" placeholder="Enter your full name" required [ngClass]="{'is-invalid': formsubmit && formData['name'].errors}">
              </div>
              <div class="mb-4">
                <label class="form-label text-primary" for="signup-email">Email address</label>
                <input class="form-control form-control-primary" type="email" id="signup-email" placeholder="Enter your email" required [ngClass]="{'is-invalid': formsubmit && formData['email'].errors}">
              </div>
              <div class="mb-4">
                <label class="form-label text-primary" for="signup-password">Password <span class='fs-sm opacity-50'>min. 8 char</span></label>
                <div class="password-toggle">
                  <input class="form-control form-control-primary" [type]="signupPassfield ? 'text' : 'password'" id="signup-password" id="signup-password" minlength="8" required [ngClass]="{'is-invalid': formsubmit && formData['password'].errors}">
                  <label class="password-toggle-btn" aria-label="Show/hide password">
                    <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator" [ngClass]="{'mdi-eye-off-outline': !signupPassfield, 'mdi-eye-outline': signupPassfield
                  }" (click)="toggleSignUpPassField()"></span>
                  </label>
                </div>
              </div>
              <div class="mb-4">
                <label class="form-label text-primary" for="signup-password-confirm">Confirm password</label>
                <div class="password-toggle">
                  <input class="form-control form-control-primary" [type]="signupCPassfield ? 'text' : 'password'" id="signup-password-confirm" minlength="8" required>
                  <label class="password-toggle-btn" aria-label="Show/hide password">
                    <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator" [ngClass]="{'mdi-eye-off-outline': !signupCPassfield, 'mdi-eye-outline': signupCPassfield
                  }" (click)="toggleSignUpCPassField()"></span>
                  </label>
                </div>
              </div>
              <div class="form-check form-check-primary mb-4">
                <input class="form-check-input" type="checkbox" id="agree-to-terms" required>
                <label class="form-check-label" for="agree-to-terms"><span class='opacity-70'>By joining, I agree to the</span> <a href='#' class='text-primary'>Terms of use</a> <span class='opacity-70'>and</span> <a href='#' class='text-primary'>Privacy policy</a></label>
              </div>
              <button class="btn btn-primary btn-lg w-100" type="submit">Sign up</button>
            </form>
          </div>
        </div>
      </div>



    </div>
   </ng-template>
